(function(t){function e(e){for(var s,o,r=e[0],l=e[1],c=e[2],d=0,f=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,r=1;r<n.length;r++){var l=n[r];0!==i[l]&&(s=!1)}s&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},i={app:0},a=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("85ec"),i=n.n(s);i.a},1:function(t,e){},"2ae0":function(t,e,n){"use strict";var s=n("d6db"),i=n.n(s);i.a},"358c":function(t,e,n){t.exports=n.p+"img/train.914d473c.png"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-view")],1)},a=[],o=(n("034f"),n("2877")),r={},l=Object(o["a"])(r,i,a,!1,null,null,null),c=l.exports,u=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Name"),n("div",{staticClass:"d-flex flex-row pt-3 pb-3"},[n("div",{staticClass:"col-md-auto"},[n("div",{staticClass:"d-flex flex-row ml-3"},[n("div",{staticClass:"col-md-auto container ml-5 mr-0"},[n("Train",{on:{enableButtons:t.enableButtons}}),n("div",{staticClass:"container d-flex justify-content-between p-0 mb-4"},t._l(2*t.mapWidth+1,(function(e){return n("div",{key:e},[n("b-button",{attrs:{disabled:t.preventClicking},on:{click:function(n){return t.insert(e,"col")}}},[n("i",{class:e%2==0?"fa fa-minus-square":"fa fa-plus-square",attrs:{"aria-hidden":"true"}})])],1)})),0),t._l(t.mapHeight,(function(e){return n("div",{key:e,staticClass:"row justify-content-center ml-4 mr-2"},t._l(t.mapWidth,(function(s){return n("div",{key:s,staticClass:"col col-md-auto"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-auto rail-vertical-invis"}),n("div",{staticClass:"col-md-auto rail rail-vertical",style:"background-color: "+(t.listOfClickedRails[4*((e-1)*t.mapWidth+(s-1))+0-""]?t.listOfClickedRails[4*((e-1)*t.mapWidth+(s-1))+0-""]:"#FFFFFF"),on:{click:function(n){return t.send_button(e,s,0)}}},[t._v(t._s(4*((e-1)*t.width+(s-1))+0))]),n("div",{staticClass:"col-md-auto rail-vertical-invis"})]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-auto rail rail-horizontal",style:"background-color: "+(t.listOfClickedRails[4*((e-1)*t.mapWidth+(s-1))+3-""]?t.listOfClickedRails[4*((e-1)*t.mapWidth+(s-1))+3-""]:"#FFFFFF"),on:{click:function(n){return t.send_button(e,s,3)}}},[t._v(t._s(4*((e-1)*t.width+(s-1))+3))]),n("div",{staticClass:"col-md-auto center-box"}),n("div",{staticClass:"col-md-auto rail rail-horizontal",style:"background-color: "+(t.listOfClickedRails[4*((e-1)*t.mapWidth+(s-1))+1-""]?t.listOfClickedRails[4*((e-1)*t.mapWidth+(s-1))+1-""]:"#FFFFFF"),on:{click:function(n){return t.send_button(e,s,1)}}},[t._v(t._s(4*((e-1)*t.width+(s-1))+1))])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-auto rail-vertical-invis"}),n("div",{staticClass:"col-md-auto rail rail-vertical",style:"background-color: "+(t.listOfClickedRails[4*((e-1)*t.mapWidth+(s-1))+2-""]?t.listOfClickedRails[4*((e-1)*t.mapWidth+(s-1))+2-""]:"#FFFFFF"),on:{click:function(n){return t.send_button(e,s,2)}}},[t._v(t._s(4*((e-1)*t.width+(s-1))+2))]),n("div",{staticClass:"col-md-auto rail-vertical-invis"})])])})),0)}))],2),n("div",{staticClass:"col-md-auto pb-0 mb-0 pt-4 mt-4"},[n("div",{staticClass:"container h-100 d-flex flex-column justify-content-between mr-0 ml-0 pr-0"},t._l(2*t.mapHeight+1,(function(e){return n("div",{key:e},[n("b-button",{attrs:{disabled:t.preventClicking},on:{click:function(n){return t.insert(e,"row")}}},[n("i",{class:e%2==0?"fa fa-minus-square":"fa fa-plus-square",attrs:{"aria-hidden":"true"}})])],1)})),0)])]),n("button",{staticClass:"btn btn-success btn-lg btn-block mt-4",attrs:{type:"button",disabled:t.preventClicking},on:{click:function(e){return t.go()}}},[t._v("Go")])]),n("div",{staticClass:"flex-grow-1 actions-messages"},[n("h5",{staticClass:"mb-0 p-1"},[t._v(" History ")]),n("History"),n("h5",{staticClass:"mb-0 p-1"},[t._v(" Chat")]),n("Chatbox")],1)])],1)},f=[],m=(n("b0c0"),n("5530")),h=n("2f62"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"historyContainer",staticClass:"h-50 history"},t._l(t.actionHistory,(function(e,s){return n("div",{key:s},[n("b",[t._v(" ["+t._s(e.time)+"]")]),n("span",{style:"color:"+e.color},[t._v(" "+t._s(e.name)+" "+t._s(e.message)+" ")])])})),0)},v=[],g={computed:Object(m["a"])({},Object(h["b"])(["actionHistory"])),watch:{actionHistory:function(){var t=this.$refs.historyContainer;t.scrollTop=t.scrollHeight}}},b=g,C=(n("67b6"),Object(o["a"])(b,p,v,!1,null,"1c2d6800",null)),y=C.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pb-0 h-50"},[n("div",{ref:"chatContainer",staticClass:"chatContainer h-100"},t._l(t.chatMessages,(function(e,s){return n("div",{key:s},[t._v(" ["+t._s(e.time)+"] "),n("span",{style:"color:"+e.color},[t._v(t._s(e.name))]),t._v(" : "+t._s(e.message)+" ")])})),0),n("div",{staticClass:"flex-shrink-1 input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.chatMessage,expression:"chatMessage"}],staticClass:"form-control",attrs:{placeholder:"chat here"},domProps:{value:t.chatMessage},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage()},input:function(e){e.target.composing||(t.chatMessage=e.target.value)}}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-primary",attrs:{disabled:!t.chatMessage},on:{click:function(e){return t.sendMessage()}}},[t._v("Send")])])])])},w=[],_=(n("498a"),{railClicked:function(t,e){t.emit("railClicked",e)},upsertRowCol:function(t,e){t.emit("upsertRowCol",e)},goClicked:function(t){t.emit("goClicked")},sendMessage:function(t,e){t.emit("sendMessage",e)},changeDimensions:function(t,e){t.emit("changeDimensions",e)},sendName:function(t,e){t.emit("sendName",e)},trainStop:function(t){t.emit("trainStop")}}),O={data:function(){return{chatMessage:""}},computed:Object(m["a"])({},Object(h["b"])(["chatMessages"])),methods:{sendMessage:function(){""!=this.chatMessage.trim()&&(_.sendMessage(this.$socket,this.chatMessage),this.chatMessage="")}},watch:{chatMessages:function(){var t=this.$refs.chatContainer;t.scrollTop=t.scrollHeight}}},M=O,x=(n("8939"),Object(o["a"])(M,k,w,!1,null,"479779cc",null)),F=x.exports,H=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},j=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{staticClass:"train",attrs:{src:n("358c"),id:"train"}})])}],R={data:function(){return{}},computed:Object(m["a"])({},Object(h["b"])(["directions"])),methods:{moveTrain:function(){var t=this.directions;console.log("directions",this.directions),console.log(this.directions[0]);var e=this.directions.length;console.log(e);var n=document.getElementById("train"),s=150,i=-50,a=10;n.style.left=i+"px",n.style.top=s+"px";var o=i,r=s,l=10;0==t.length&&(console.log("done"),_.trainStop(this.$socket),this.$emit("enableButtons"));var c=0,u=0,d=this,f=setInterval((function(){"e"==t[c]?("s"==t[c-1]&&(n.style.transform="rotate(0deg) scaleX(-1)"),"n"==t[c-1]&&(n.style.transform="rotate(0deg) scaleX(-1)"),n.style.left=o+a+"px",o+=a):"w"==t[c]?("s"==t[c-1]&&(n.style.transform="rotate(0deg)"),"n"==t[c-1]&&(n.style.transform="rotate(0deg)"),n.style.left=o-a+"px",o-=a):"n"==t[c]?("e"==t[c-1]&&(n.style.transform="rotate(90deg)"),"w"==t[c-1]&&(n.style.transform="rotate(-90deg) scaleX(-1)"),n.style.top=r-a+"px",r-=a):"s"==t[c]&&("e"==t[c-1]&&(n.style.transform="rotate(90deg) scaleX(-1)"),"w"==t[c-1]&&(n.style.transform="rotate(-90deg)"),n.style.top=r+a+"px",r+=a),u+=1,c>e&&(clearInterval(f),console.log("done"),_.trainStop(this.$socket),d.$emit("enableButtons")),l=c%2==0?11:10,u>=l&&(c+=1,u=0)}),100/(.6*t.length+1))}},watch:{directions:function(){console.log("DIRECTIONS CHANGED: ",this.directions),this.moveTrain()}}},E=R,T=(n("2ae0"),Object(o["a"])(E,H,j,!1,null,"6b42f35e",null)),$=T.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("modal",{attrs:{name:"hello-world",clickToClose:!1,height:200}},[n("div",{staticClass:"p-5"},[n("h5",[t._v(" Please Enter Your Name ")]),n("div",{staticClass:"input-group mt-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",splaceholder:"Wats ur name"},domProps:{value:t.username},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendName(e)},input:function(e){e.target.composing||(t.username=e.target.value)}}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"input-group-text",attrs:{id:"basic-addon2"},on:{click:t.sendName}},[t._v(" Enter ")])])])])])],1)},S=[],W={name:"Name",data:function(){return{username:""}},computed:Object(m["a"])({},Object(h["b"])(["askingName"])),methods:{show:function(){this.$modal.show("hello-world")},hide:function(){this.$modal.hide("hello-world")},sendName:function(){console.log(this.username),_.sendName(this.$socket,this.username.trim())}},watch:{askingName:function(){1==this.askingName?this.$modal.show("hello-world"):this.$modal.hide("hello-world")}}},A=W,P=Object(o["a"])(A,N,S,!1,null,null,null),I=P.exports,K=(n("f9e3"),n("2dd8"),{name:"Home",components:{History:y,Chatbox:F,Train:$,Name:I},data:function(){return{directions:[],preventClicking:!1,width:3,height:3,gettingName:!1}},computed:Object(m["a"])({},Object(h["b"])(["listOfClickedRails","errorMessage","mapHeight","mapWidth","userColor"])),methods:{makeToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$bvToast.toast(t,{title:"Error",toaster:"b-toaster-top-center",variant:"warning",solid:!0})},insert:function(t,e){var n,s;t%2==0?(s=Math.floor((t-1)/2),n=!1):(s=Math.floor(t/2),n=!0),console.log({isInsert:n,axis:e,index:s}),_.upsertRowCol(this.$socket,{isInsert:n,axis:e,index:s})},send_button:function(t,e,n){if(!this.preventClicking){t-=1,e-=1;var s=4*(t*this.mapWidth+e)+n,i=void 0==this.listOfClickedRails[s]||null==this.listOfClickedRails[s]||"#FFFFFF"==this.listOfClickedRails[s];_.railClicked(this.$socket,{id:s,width:this.mapWidth,placed:i});var a={id:s,color:i?this.userColor:"#FFFFFF"};this.$store.commit("newRail",a)}},enableButtons:function(){this.preventClicking=!1},go:function(){_.goClicked(this.$socket),this.preventClicking=!0}},watch:{errorMessage:function(){if(null!=this.errorMessage&&void 0!=this.errorMessage){console.log(this.errorMessage.name+" "+this.errorMessage.message);var t=this.errorMessage.name+" "+this.errorMessage.message;console.log(t),this.makeToast(t)}}}}),B=K,D=(n("cccb"),Object(o["a"])(B,d,f,!1,null,null,null)),q=D.exports,X=n("1881"),J=n.n(X);s["default"].use(J.a),s["default"].use(u["a"]);var U=[{path:"/",name:"Home",component:q}],z=new u["a"]({mode:"history",base:"/",routes:U}),G=z;n("d81d"),n("fb6a");s["default"].config.devtools=!0,s["default"].use(h["a"]);var L={newRail:{buttonID:null,color:null},askingName:!1,actionHistory:[],listOfClickedRails:{},chatMessages:[],directions:[],userColor:"",mapHeight:null,mapWidth:null,errorMessage:{}},V={latestActionHistory:function(t){var e=t.actionHistory;return e=e.slice(Math.max(e.length-15,0)),e}},Y={startUp:function(t,e){console.log("startup:",e),t.askingName=!0,t.mapHeight=e.height,t.mapWidth=e.width,t.listOfClickedRails=e.map,t.actionHistory=e.actionHistory,t.userColor=e.color},newRail:function(t,e){s["default"].set(t.listOfClickedRails,e.id,e.color),console.log(t.listOfClickedRails)},newActionHistory:function(t,e){console.log(e),e.newHistory.error?t.errorMessage=e.newHistory:t.actionHistory.push(e.newHistory)},moveTrain:function(t,e){t.directions=e.directions},newChatMessage:function(t,e){t.chatMessages.push(e)},userAccept:function(t){return t.askingName=!1},newMap:function(t,e){t.mapWidth=e.width,t.mapHeight=e.height,t.listOfClickedRails=e.map,console.log(e)}},Q={SOCKET_startUp:function(t,e){var n=t.commit;n("startUp",e)},SOCKET_newRail:function(t,e){var n=t.commit;console.log("I HAVE A NEW RAIL"),n("newRail",e.rail),n("newActionHistory",e)},SOCKET_moveTrain:function(t,e){var n=t.commit;n("moveTrain",e),n("newActionHistory",e)},SOCKET_broadcastMessage:function(t,e){var n=t.commit;n("newChatMessage",e)},SOCKET_userJoined:function(t,e){var n=t.commit;n("newChatMessage",e)},SOCKET_newMap:function(t,e){var n=t.commit;n("newMap",e),e.newHistory&&n("newActionHistory",e)},SOCKET_userAccept:function(t){var e=t.commit;e("userAccept")},SOCKET_userLeft:function(t,e){var n=t.commit;n("newChatMessage",e)}},Z=new h["a"].Store({state:L,mutations:Y,actions:Q,getters:V}),tt=n("5132"),et=n.n(tt),nt=n("8055"),st=n.n(nt),it=n("5f5b"),at=n("104d");s["default"].config.devtools=!0,s["default"].use(at["a"]),s["default"].use(it["a"]),s["default"].config.productionTip=!1,s["default"].use(new et.a({debug:!0,connection:st()(),vuex:{store:Z,actionPrefix:"SOCKET_"}})),new s["default"]({router:G,store:Z,render:function(t){return t(c)}}).$mount("#app")},"5ced":function(t,e,n){},"67b6":function(t,e,n){"use strict";var s=n("727d"),i=n.n(s);i.a},"727d":function(t,e,n){},"85ec":function(t,e,n){},8939:function(t,e,n){"use strict";var s=n("a554"),i=n.n(s);i.a},a554:function(t,e,n){},cccb:function(t,e,n){"use strict";var s=n("5ced"),i=n.n(s);i.a},d6db:function(t,e,n){}});
//# sourceMappingURL=app.5fa9152a.js.map